(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0aefbe20"],{"5d9d":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"form-wrapper",attrs:{model:e.ruleForm,rules:e.rules,label:"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),e._v(" "),r("el-form-item",{ref:"demo",attrs:{label:"性别",prop:"gender"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[e._v("女")])],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",size:"mini",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话",prop:"tel"}},[r("el-input",{model:{value:e.ruleForm.tel,callback:function(t){e.$set(e.ruleForm,"tel",t)},expression:"ruleForm.tel"}},[e._v("电话号码")])],1),e._v(" "),r("el-form-item",{attrs:{label:"选择职位",prop:"positionName"}},[r("el-select",{model:{value:e.ruleForm.positionName,callback:function(t){e.$set(e.ruleForm,"positionName",t)},expression:"ruleForm.positionName"}},e._l(e.positionLists,(function(e){return r("el-option",{key:e.positionId,attrs:{label:e.positionName,value:e.positionName}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"选择部门",prop:"departmentName"}},[r("el-select",{model:{value:e.ruleForm.departmentName,callback:function(t){e.$set(e.ruleForm,"departmentName",t)},expression:"ruleForm.departmentName"}},e._l(e.departmentLists,(function(e){return r("el-option",{key:e.departmentId,attrs:{label:e.departmentName,value:e.departmentName}})})),1)],1),e._v(" "),r("div",{staticClass:"buttonWrapper"},[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册\n      ")])],1)],1)],1)},a=[],o=(r("96cf"),r("3b8d")),i=(r("7f7f"),r("8593")),s={name:"AddStaff",data:function(){return{ruleForm:{name:"",gender:"",email:"",tel:"",password:"",checkPass:"",positionName:"",departmentName:""},departmentLists:[],positionLists:[],loading:!1,rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,message:"长度在 3 到 5 个字符",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],tel:[{required:!0,message:"请输入电话号码",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],checkPass:[{required:!0,message:"请第二次输入密码",trigger:"change"}],positionName:[{required:!0,message:"请至少选择一个职位",trigger:"change"}],departmentName:[{required:!0,message:"请至少选择一个部门",trigger:"change"}]}}},mounted:function(){this.fetchDepartment(),this.fetchPositions()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("此操作将添加员工, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=new FormData;e.append("gender",t.ruleForm.gender),e.append("name",t.ruleForm.name),e.append("tel",t.ruleForm.tel),e.append("email",t.ruleForm.email),e.append("password",t.ruleForm.password),e.append("departmentName",t.ruleForm.departmentName),e.append("positionName",t.ruleForm.positionName),Object(i["c"])(e).then((function(e){console.log(e),2e4===e.code&&t.$alert("添加成功")}))}))})),console.log(this.ruleForm)},fetchDepartment:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["f"])().then((function(e){t.departmentLists=e.data}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),fetchPositions:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["g"])().then((function(e){t.positionLists=e.data}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}},l=s,u=(r("bd26"),r("2877")),m=Object(u["a"])(l,n,a,!1,null,"b5570f26",null);t["default"]=m.exports},8593:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"h",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"g",(function(){return m})),r.d(t,"e",(function(){return c})),r.d(t,"c",(function(){return p}));var n=r("cc46");function a(e){return Object(n["a"])({url:"/add-department",method:"get",params:{name:e}})}function o(){return Object(n["a"])({url:"/get-department-list",method:"get"})}function i(e){return Object(n["a"])({url:"/del-department",method:"get",params:{name:e}})}function s(){return Object(n["a"])({url:"/get-power-list",method:"get"})}function l(e){return Object(n["a"])({url:"/add-position",method:"get",params:{name:e,state:0,postClass:0}})}function u(e,t){var r=new FormData;return r.append("positionName",e),r.append("powerList[]",t),Object(n["a"])({url:"/set-power",method:"post",data:r})}function m(){return Object(n["a"])({url:"/get-position-list",method:"get"})}function c(e){return console.log(e),Object(n["a"])({url:"/del-position",method:"get",params:{name:e}})}function p(e){return Object(n["a"])({url:"/add-staff",method:"post",data:e})}},"8ac7":function(e,t,r){},bd26:function(e,t,r){"use strict";var n=r("8ac7"),a=r.n(n);a.a}}]);