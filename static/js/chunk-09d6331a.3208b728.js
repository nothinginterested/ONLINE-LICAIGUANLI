(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d6331a"],{"0c99":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"ruleForm",staticClass:"form-wrapper",attrs:{model:e.ruleForm,rules:e.rules,label:"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),t("el-form-item",{ref:"demo",attrs:{label:"性别",prop:"gender"}},[t("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.gender,callback:function(r){e.$set(e.ruleForm,"gender",r)},expression:"ruleForm.gender"}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.gender,callback:function(r){e.$set(e.ruleForm,"gender",r)},expression:"ruleForm.gender"}},[e._v("女")])],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",size:"mini",prop:"email"}},[t("el-input",{model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"电话",prop:"tel"}},[t("el-input",{model:{value:e.ruleForm.tel,callback:function(r){e.$set(e.ruleForm,"tel",r)},expression:"ruleForm.tel"}},[e._v("电话号码")])],1),e._v(" "),t("div",{staticClass:"buttonWrapper"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册\n      ")])],1)],1)],1)},a=[],o=(t("7f7f"),t("8593"),t("c24f")),l={name:"AddStaff",data:function(){return{ruleForm:{name:"",gender:"",email:"",tel:"",password:"",checkPass:""},departmentLists:[],positionLists:[],loading:!1,rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,message:"长度在 3 到 5 个字符",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],tel:[{required:!0,message:"请输入电话号码",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],checkPass:[{required:!0,message:"请第二次输入密码",trigger:"change"}],positionName:[{required:!0,message:"请至少选择一个职位",trigger:"change"}],departmentName:[{required:!0,message:"请至少选择一个部门",trigger:"change"}]}}},mounted:function(){this.fetchDepartment(),this.fetchPositions()},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;r.$confirm("此操作将添加员工, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=new FormData;e.append("gender",r.ruleForm.gender),e.append("u_name",r.ruleForm.name),e.append("tel",r.ruleForm.tel),e.append("email",r.ruleForm.email),e.append("u_password",r.ruleForm.password),Object(o["f"])(e).then((function(e){console.log(e),2e4===e.code&&r.$alert("添加成功",{callback:r.goback()})}))}))})),console.log(this.ruleForm)},goback:function(){this.$router.push("/")}}},s=l,u=(t("0d92"),t("2877")),i=Object(u["a"])(s,n,a,!1,null,"f63bdfd4",null);r["default"]=i.exports},"0d92":function(e,r,t){"use strict";var n=t("e626"),a=t.n(n);a.a},8593:function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"f",(function(){return o})),t.d(r,"d",(function(){return l})),t.d(r,"h",(function(){return s})),t.d(r,"b",(function(){return u})),t.d(r,"i",(function(){return i})),t.d(r,"g",(function(){return m})),t.d(r,"e",(function(){return c})),t.d(r,"c",(function(){return d}));var n=t("cc46");function a(e){return Object(n["a"])({url:"/add-department",method:"get",params:{name:e}})}function o(){return Object(n["a"])({url:"/get-department-list",method:"get"})}function l(e){return Object(n["a"])({url:"/del-department",method:"get",params:{name:e}})}function s(){return Object(n["a"])({url:"/get-power-list",method:"get"})}function u(e){return Object(n["a"])({url:"/add-position",method:"get",params:{name:e,state:0,postClass:0}})}function i(e,r){var t=new FormData;return t.append("positionName",e),t.append("powerList[]",r),Object(n["a"])({url:"/set-power",method:"post",data:t})}function m(){return Object(n["a"])({url:"/get-position-list",method:"get"})}function c(e){return console.log(e),Object(n["a"])({url:"/del-position",method:"get",params:{name:e}})}function d(e){return Object(n["a"])({url:"/add-staff",method:"post",data:e})}},e626:function(e,r,t){}}]);